-*- mode: org; -*-

* Gameplay
	

** New weapons & items

*** Machine gun

	 Rapid-fire weapon but takes longer to kill ships. Go against the
	 one shot/one kill principle of the current gameplay. Could be used
	 for other bonuses like slowdown shots. The player launch burst of
	 tiny projectiles and the more the enemy get shot, the slower he
	 gets.

*** Portable black hole

	 Gravity affects bullets and ships.
	 Neat graphical effect required!

*** EMP/Shield
	 
	 Deflect bullets. Should cover a moving ship, to the detriment of
	 its speed/manoeuvrability.

*** TODO Tracker

	 Mercilessly follow a designated target.

*** Invisible hull

	 Stay invisible while you do not fire or use any other bonus.

*** Big head mode

	 Easier to shoot at, harder to slip between planets but kills on
	 contact.

*** Paintball mode

	 Spray other ships with your colors! Rating 2 and up.

*** Mirror image 
	 
	 Copy of the ship that mirror the player, but turn in opposite
	 directions.  Fires phony bullets, disappear when colliding
	 something (different explosion visual).

*** Drunk mode

	 Convert to offensive bonus.

** Statistics

*** Session statistics

		- Kills
		- Deaths
		- Score = K - D, compel to avoid kamikazing.

*** Persistent statistics (with account)

		- Total playtime.
		- Favorite bonuses.
		- Score progression tracking.

*** Achievements (everybody loves achievements!)

		- National day : Explode X times.
		- Rube Goldberg from outer space : Create a chain explosion of X mines.
		- Anticipating the uprising : Kill X bots.
		- Seasoned space explorer : Play for X hours.
		- An apple a day : Kill every type of bot.
		- Heavy drinker : Be drunk for X minutes.
		- So Roswell : Crash on planets X times.
		- Hope nobody saw that : Shot yourself.
		- Rogue leader : Be at the top of the scoreboard X times.
	 ...
	 

* Interface


** Web interface for game creation.

*** TODO Sanitize input		

		- Unique game id.
		- Out of range values.
		  
*** TODO More info in game list.

		- Max players allowed

*** TODO More options in game creation.

		- Permitted bonuses.
		- Password.


** Communication between players.

	 - Minimalist chat?


* Graphics


** TODO Current bonus visual clue.

	Bonus dragging behind the ship. The rope can be cut.

** Leave some ephemeral traces of fight on planets.

   Ships and bullets splatters their colors. Ã€ la paintball.

* Core

** DONE Factorize gravity from planet computations
	 CLOSED: [2011-07-13 Wed 12:20]

   Consider only surrounding planets, wrt the torus.

** Expire deserted games 

** Get rid of evil global variables.

   Use closures where relevant, pass arguments when convenient.

** Tune collisions.

   - Properly handle more than circle on circle collisions. Ideally,
     we should compare hitboxes instead of simple hitradii.
   - Immobile objects need not to be reinserted in the grid (planets).
   - Don't check collisions between objects that can't collide gameplay-wise.

** Prevent objects from spawning onto each other.
   
** Change planet count to a percentage value relative to map size.

   Could specify between 30-70% planet fill. Avoid locks when trying
   to fit 50 planets into a 500*500 map. 
   
** TODO Refactor client clode

   What a mess.

** TODO Rework client drawing.

   Find out why Core2 with puny graphic chipset can handle the client fullscreen
   when beefier hardware can't.

** Send full game update to reconnecting / out of sync clients.

   Client should clean everything and start anew from this update.

** Add debugging facilities.

	Automated tests.
	Display connection info (ping, fps,  messages dropped ...)
